import type { Stock } from '@/types';
import { HealthStatus, SignalType, Sector } from '@/types';

// Helper function to generate random values within a range
const randomBetween = (min: number, max: number): number => {
  return Math.random() * (max - min) + min;
};

// Helper function to generate random enum value
const randomEnum = <T>(enumObject: T): T[keyof T] => {
  const values = Object.values(enumObject as any);
  return values[Math.floor(Math.random() * values.length)];
};

export const mockStocks: Stock[] = [
  {
    id: '1',
    symbol: 'RELIANCE',
    name: 'Reliance Industries Ltd.',
    sector: 'Energy',
    industry: 'Oil & Gas Refining',
    marketCap: 1756000000000, // 17.56 Lakh Crores
    price: 2650.75,
    change: 45.30,
    changePercent: 1.74,
    volume: 2547893,
    avgVolume: 2100000,
    pe: 12.5,
    pb: 1.8,
    roe: 14.2,
    roce: 16.8,
    debtToEquity: 0.35,
    currentRatio: 1.2,
    quickRatio: 0.8,
    grossMargin: 15.4,
    operatingMargin: 12.8,
    netMargin: 8.9,
    bookValue: 1472.50,
    dividendYield: 0.85,
    beta: 1.1,
    eps: 212.15,
    revenue: 792000000000,
    netIncome: 70500000000,
    health: 'GOOD' as HealthStatus,
    signal: 'BUY' as SignalType,
    lastUpdated: new Date(),
  },
  {
    id: '2',
    symbol: 'TCS',
    name: 'Tata Consultancy Services Ltd.',
    sector: 'Technology',
    industry: 'IT Services',
    marketCap: 1345000000000,
    price: 3678.90,
    change: -23.45,
    changePercent: -0.63,
    volume: 1856432,
    avgVolume: 1950000,
    pe: 26.8,
    pb: 12.4,
    roe: 46.2,
    roce: 52.1,
    debtToEquity: 0.02,
    currentRatio: 3.8,
    quickRatio: 3.7,
    grossMargin: 68.9,
    operatingMargin: 25.4,
    netMargin: 19.8,
    bookValue: 296.75,
    dividendYield: 1.45,
    beta: 0.8,
    eps: 137.25,
    revenue: 216000000000,
    netIncome: 42800000000,
    health: 'BEST' as HealthStatus,
    signal: 'HOLD' as SignalType,
    lastUpdated: new Date(),
  },
  {
    id: '3',
    symbol: 'INFY',
    name: 'Infosys Ltd.',
    sector: 'Technology',
    industry: 'IT Services',
    marketCap: 768000000000,
    price: 1845.60,
    change: 15.80,
    changePercent: 0.86,
    volume: 3254789,
    avgVolume: 2800000,
    pe: 24.5,
    pb: 8.9,
    roe: 32.4,
    roce: 35.8,
    debtToEquity: 0.05,
    currentRatio: 2.4,
    quickRatio: 2.3,
    grossMargin: 64.2,
    operatingMargin: 22.1,
    netMargin: 18.5,
    bookValue: 207.45,
    dividendYield: 2.15,
    beta: 0.9,
    eps: 75.32,
    revenue: 183000000000,
    netIncome: 33900000000,
    health: 'BEST' as HealthStatus,
    signal: 'BUY' as SignalType,
    lastUpdated: new Date(),
  },
  {
    id: '4',
    symbol: 'HDFCBANK',
    name: 'HDFC Bank Ltd.',
    sector: 'Banking',
    industry: 'Private Sector Bank',
    marketCap: 1289000000000,
    price: 1689.25,
    change: -12.35,
    changePercent: -0.73,
    volume: 2145678,
    avgVolume: 2000000,
    pe: 19.2,
    pb: 2.8,
    roe: 15.8,
    roce: null,
    debtToEquity: null,
    currentRatio: null,
    quickRatio: null,
    grossMargin: null,
    operatingMargin: 42.5,
    netMargin: 24.8,
    bookValue: 603.50,
    dividendYield: 1.25,
    beta: 1.0,
    eps: 87.95,
    revenue: 203000000000,
    netIncome: 50400000000,
    health: 'GOOD' as HealthStatus,
    signal: 'HOLD' as SignalType,
    lastUpdated: new Date(),
  },
  {
    id: '5',
    symbol: 'ICICIBANK',
    name: 'ICICI Bank Ltd.',
    sector: 'Banking',
    industry: 'Private Sector Bank',
    marketCap: 854000000000,
    price: 1215.40,
    change: 8.75,
    changePercent: 0.73,
    volume: 4567891,
    avgVolume: 4200000,
    pe: 16.5,
    pb: 2.1,
    roe: 13.4,
    roce: null,
    debtToEquity: null,
    currentRatio: null,
    quickRatio: null,
    grossMargin: null,
    operatingMargin: 38.9,
    netMargin: 22.1,
    bookValue: 578.90,
    dividendYield: 0.95,
    beta: 1.2,
    eps: 73.68,
    revenue: 187000000000,
    netIncome: 41300000000,
    health: 'GOOD' as HealthStatus,
    signal: 'BUY' as SignalType,
    lastUpdated: new Date(),
  },
  {
    id: '6',
    symbol: 'HINDUNILVR',
    name: 'Hindustan Unilever Ltd.',
    sector: 'FMCG',
    industry: 'Consumer Goods',
    marketCap: 512000000000,
    price: 2178.30,
    change: -5.20,
    changePercent: -0.24,
    volume: 987654,
    avgVolume: 1100000,
    pe: 58.9,
    pb: 13.2,
    roe: 22.4,
    roce: 28.6,
    debtToEquity: 0.12,
    currentRatio: 1.5,
    quickRatio: 1.2,
    grossMargin: 52.8,
    operatingMargin: 18.9,
    netMargin: 15.2,
    bookValue: 165.15,
    dividendYield: 1.85,
    beta: 0.6,
    eps: 36.98,
    revenue: 58000000000,
    netIncome: 8800000000,
    health: 'GOOD' as HealthStatus,
    signal: 'HOLD' as SignalType,
    lastUpdated: new Date(),
  },
  {
    id: '7',
    symbol: 'MARUTI',
    name: 'Maruti Suzuki India Ltd.',
    sector: 'Automobile',
    industry: 'Passenger Cars',
    marketCap: 326000000000,
    price: 10789.45,
    change: 125.60,
    changePercent: 1.18,
    volume: 456789,
    avgVolume: 380000,
    pe: 24.8,
    pb: 3.9,
    roe: 15.7,
    roce: 21.4,
    debtToEquity: 0.08,
    currentRatio: 1.8,
    quickRatio: 1.3,
    grossMargin: 28.5,
    operatingMargin: 12.8,
    netMargin: 9.4,
    bookValue: 2765.80,
    dividendYield: 1.45,
    beta: 1.3,
    eps: 434.92,
    revenue: 132000000000,
    netIncome: 12400000000,
    health: 'GOOD' as HealthStatus,
    signal: 'BUY' as SignalType,
    lastUpdated: new Date(),
  },
  {
    id: '8',
    symbol: 'BAJFINANCE',
    name: 'Bajaj Finance Ltd.',
    sector: 'Banking',
    industry: 'NBFC',
    marketCap: 412000000000,
    price: 6789.20,
    change: -89.30,
    changePercent: -1.30,
    volume: 789123,
    avgVolume: 650000,
    pe: 28.5,
    pb: 4.2,
    roe: 18.9,
    roce: null,
    debtToEquity: 6.8,
    currentRatio: null,
    quickRatio: null,
    grossMargin: null,
    operatingMargin: 68.4,
    netMargin: 24.7,
    bookValue: 1615.95,
    dividendYield: 0.35,
    beta: 1.4,
    eps: 238.15,
    revenue: 38500000000,
    netIncome: 9500000000,
    health: 'NORMAL' as HealthStatus,
    signal: 'HOLD' as SignalType,
    lastUpdated: new Date(),
  },
  {
    id: '9',
    symbol: 'SUNPHARMA',
    name: 'Sun Pharmaceutical Industries Ltd.',
    sector: 'Pharmaceuticals',
    industry: 'Pharmaceuticals',
    marketCap: 289000000000,
    price: 1205.85,
    change: 18.45,
    changePercent: 1.55,
    volume: 1456789,
    avgVolume: 1200000,
    pe: 19.8,
    pb: 2.8,
    roe: 14.2,
    roce: 18.5,
    debtToEquity: 0.15,
    currentRatio: 2.1,
    quickRatio: 1.6,
    grossMargin: 68.9,
    operatingMargin: 18.4,
    netMargin: 14.8,
    bookValue: 430.75,
    dividendYield: 0.95,
    beta: 0.8,
    eps: 60.92,
    revenue: 42800000000,
    netIncome: 6300000000,
    health: 'GOOD' as HealthStatus,
    signal: 'BUY' as SignalType,
    lastUpdated: new Date(),
  },
  {
    id: '10',
    symbol: 'TATAMOTORS',
    name: 'Tata Motors Ltd.',
    sector: 'Automobile',
    industry: 'Passenger Cars & Utility Vehicles',
    marketCap: 187000000000,
    price: 513.75,
    change: -8.95,
    changePercent: -1.71,
    volume: 8976543,
    avgVolume: 7500000,
    pe: null,
    pb: 1.2,
    roe: -2.8,
    roce: -1.5,
    debtToEquity: 1.8,
    currentRatio: 0.9,
    quickRatio: 0.6,
    grossMargin: 12.4,
    operatingMargin: -2.1,
    netMargin: -5.8,
    bookValue: 427.95,
    dividendYield: 0.0,
    beta: 1.8,
    eps: -29.45,
    revenue: 434000000000,
    netIncome: -25200000000,
    health: 'BAD' as HealthStatus,
    signal: 'SELL' as SignalType,
    lastUpdated: new Date(),
  },
  {
    id: '11',
    symbol: 'ADANIENT',
    name: 'Adani Enterprises Ltd.',
    sector: 'Infrastructure',
    industry: 'Trading',
    marketCap: 298000000000,
    price: 2587.90,
    change: 45.80,
    changePercent: 1.80,
    volume: 1789456,
    avgVolume: 1500000,
    pe: 68.5,
    pb: 3.8,
    roe: 5.8,
    roce: 8.2,
    debtToEquity: 2.1,
    currentRatio: 1.1,
    quickRatio: 0.8,
    grossMargin: 8.9,
    operatingMargin: 4.2,
    netMargin: 2.8,
    bookValue: 680.50,
    dividendYield: 0.25,
    beta: 2.1,
    eps: 37.75,
    revenue: 175000000000,
    netIncome: 4900000000,
    health: 'NORMAL' as HealthStatus,
    signal: 'HOLD' as SignalType,
    lastUpdated: new Date(),
  },
  {
    id: '12',
    symbol: 'WIPRO',
    name: 'Wipro Ltd.',
    sector: 'Technology',
    industry: 'IT Services',
    marketCap: 234000000000,
    price: 418.65,
    change: -3.25,
    changePercent: -0.77,
    volume: 3456789,
    avgVolume: 3200000,
    pe: 21.5,
    pb: 2.9,
    roe: 13.4,
    roce: 16.8,
    debtToEquity: 0.08,
    currentRatio: 2.8,
    quickRatio: 2.6,
    grossMargin: 58.9,
    operatingMargin: 15.2,
    netMargin: 12.8,
    bookValue: 144.25,
    dividendYield: 2.85,
    beta: 0.9,
    eps: 19.47,
    revenue: 89500000000,
    netIncome: 11400000000,
    health: 'GOOD' as HealthStatus,
    signal: 'HOLD' as SignalType,
    lastUpdated: new Date(),
  },
];

// Function to generate additional random stocks
export const generateRandomStocks = (count: number): Stock[] => {
  const sectors = [
    Sector.TECHNOLOGY,
    Sector.BANKING,
    Sector.PHARMA,
    Sector.AUTO,
    Sector.ENERGY,
    Sector.FMCG,
    Sector.METALS,
    Sector.REALTY,
    Sector.TELECOM,
    Sector.INFRASTRUCTURE
  ];
  const healthStatuses = [
    HealthStatus.BEST,
    HealthStatus.GOOD,
    HealthStatus.NORMAL,
    HealthStatus.BAD,
    HealthStatus.WORSE
  ];
  const signals = [
    SignalType.BUY,
    SignalType.SELL,
    SignalType.HOLD
  ];
  
  const sampleCompanies = [
    { symbol: 'BHARTIARTL', name: 'Bharti Airtel Ltd.', industry: 'Telecommunications' },
    { symbol: 'COALINDIA', name: 'Coal India Ltd.', industry: 'Coal Mining' },
    { symbol: 'DRREDDY', name: 'Dr. Reddy\'s Laboratories Ltd.', industry: 'Pharmaceuticals' },
    { symbol: 'EICHERMOT', name: 'Eicher Motors Ltd.', industry: 'Commercial Vehicles' },
    { symbol: 'GRASIM', name: 'Grasim Industries Ltd.', industry: 'Diversified' },
    { symbol: 'HCLTECH', name: 'HCL Technologies Ltd.', industry: 'IT Services' },
    { symbol: 'HEROMOTOCO', name: 'Hero MotoCorp Ltd.', industry: 'Two Wheelers' },
    { symbol: 'INDUSINDBK', name: 'IndusInd Bank Ltd.', industry: 'Private Sector Bank' },
    { symbol: 'IOC', name: 'Indian Oil Corporation Ltd.', industry: 'Oil & Gas Refining' },
    { symbol: 'ITC', name: 'ITC Ltd.', industry: 'Diversified FMCG' },
  ];

  return Array.from({ length: count }, (_, index) => {
    const company = sampleCompanies[index % sampleCompanies.length];
    const sector = sectors[Math.floor(Math.random() * sectors.length)];
    const price = randomBetween(50, 5000);
    const change = randomBetween(-100, 100);
    const changePercent = (change / price) * 100;
    
    return {
      id: `gen_${index + 100}`,
      symbol: `${company.symbol}_${index}`,
      name: `${company.name} ${index}`,
      sector,
      industry: company.industry,
      marketCap: randomBetween(10000000000, 2000000000000),
      price,
      change,
      changePercent,
      volume: Math.floor(randomBetween(100000, 10000000)),
      avgVolume: Math.floor(randomBetween(100000, 8000000)),
      pe: Math.random() > 0.1 ? randomBetween(5, 100) : null,
      pb: Math.random() > 0.1 ? randomBetween(0.5, 15) : null,
      roe: Math.random() > 0.1 ? randomBetween(-10, 50) : null,
      roce: Math.random() > 0.1 ? randomBetween(-5, 60) : null,
      debtToEquity: Math.random() > 0.2 ? randomBetween(0, 3) : null,
      currentRatio: Math.random() > 0.2 ? randomBetween(0.5, 5) : null,
      quickRatio: Math.random() > 0.2 ? randomBetween(0.3, 4) : null,
      grossMargin: Math.random() > 0.2 ? randomBetween(5, 80) : null,
      operatingMargin: Math.random() > 0.2 ? randomBetween(-10, 50) : null,
      netMargin: Math.random() > 0.2 ? randomBetween(-20, 30) : null,
      bookValue: randomBetween(10, 2000),
      dividendYield: Math.random() > 0.3 ? randomBetween(0, 5) : null,
      beta: randomBetween(0.3, 2.5),
      eps: randomBetween(-50, 500),
      revenue: randomBetween(1000000000, 800000000000),
      netIncome: randomBetween(-10000000000, 80000000000),
      health: randomEnum(HealthStatus),
      signal: randomEnum(SignalType),
      lastUpdated: new Date(),
    };
  });
};

export const getAllStocks = (): Stock[] => {
  return [...mockStocks, ...generateRandomStocks(40)];
};